{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"final"},{"kind":"text","text":" "},{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DatagramService"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a WriteMemo and submit"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Get an OK or NotOK callback"},{"type":"text","text":" "},{"type":"text","text":"Reads from remote node:"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Mlutiple listeners are notified"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"exactly one should call positiveReplyToDatagram\/negativeReplyToDatagram before returning from listener"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Implements "},{"type":"codeVoice","code":"Processor"},{"type":"text","text":", should be fed as part of common execution"},{"type":"text","text":" "},{"type":"text","text":"Handles link quiesce\/restart so that higher level services don’t have to."}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If there’s an outstanding datagram reply with link restarts, resend it"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Once the link has been quiesced, datagrams are held until it’s restarted"}]}]}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/openlcblibrary\/datagramservice"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/Processor"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Provide a service interface for reading and writing Datagrams."},{"type":"text","text":" "},{"type":"text","text":"Writes to remote node:"}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DatagramService"}],"title":"DatagramService","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:14OpenlcbLibrary15DatagramServiceC","modules":[{"name":"OpenlcbLibrary"}],"navigatorTitle":[{"kind":"identifier","text":"DatagramService"}]},"hierarchy":{"paths":[["doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary"]]},"topicSections":[{"title":"Structures","identifiers":["doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/DatagramReadMemo","doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/DatagramWriteMemo"]},{"title":"Initializers","identifiers":["doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/init(_:)"]},{"title":"Instance Methods","identifiers":["doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/datagramType(data:)","doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/negativeReplyToDatagram(_:err:)","doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/positiveReplyToDatagram(_:flags:)","doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/process(_:_:)","doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/registerDatagramReceivedListener(_:)","doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/sendDatagram(_:)"]},{"title":"Enumerations","identifiers":["doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/ProtocolID"]}],"references":{"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService":{"role":"symbol","title":"DatagramService","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DatagramService"}],"abstract":[{"type":"text","text":"Provide a service interface for reading and writing Datagrams."},{"type":"text","text":" "},{"type":"text","text":"Writes to remote node:"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DatagramService"}],"url":"\/documentation\/openlcblibrary\/datagramservice"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/sendDatagram(_:)":{"role":"symbol","title":"sendDatagram(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"sendDatagram"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"DatagramWriteMemo","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC0C9WriteMemoV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Queue a memo that writes a datagram to the network"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/sendDatagram(_:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/senddatagram(_:)"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/registerDatagramReceivedListener(_:)":{"role":"symbol","title":"registerDatagramReceivedListener(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerDatagramReceivedListener"},{"kind":"text","text":"((("},{"kind":"typeIdentifier","text":"DatagramReadMemo","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC0C8ReadMemoV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":"))"}],"abstract":[{"type":"text","text":"Register a listener to be notified when each datagram arrives.  One and only one listener should reply positively or negatively to the datagram and return true."}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/registerDatagramReceivedListener(_:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/registerdatagramreceivedlistener(_:)"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/DatagramWriteMemo":{"role":"symbol","title":"DatagramService.DatagramWriteMemo","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"DatagramWriteMemo"}],"abstract":[{"type":"text","text":"Memo carries write request and two reply callbacks"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/DatagramWriteMemo","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DatagramWriteMemo"}],"url":"\/documentation\/openlcblibrary\/datagramservice\/datagramwritememo"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/ProtocolID":{"role":"symbol","title":"DatagramService.ProtocolID","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"ProtocolID"}],"abstract":[{"type":"text","text":"Known datagram protocol types"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/ProtocolID","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ProtocolID"}],"url":"\/documentation\/openlcblibrary\/datagramservice\/protocolid"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary":{"role":"collection","title":"OpenlcbLibrary","abstract":[{"type":"text","text":"An implementation of the OpenLCB protocols in library form."}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/DatagramReadMemo":{"role":"symbol","title":"DatagramService.DatagramReadMemo","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"DatagramReadMemo"}],"abstract":[{"type":"text","text":"Memo carries read result"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/DatagramReadMemo","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DatagramReadMemo"}],"url":"\/documentation\/openlcblibrary\/datagramservice\/datagramreadmemo"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/negativeReplyToDatagram(_:err:)":{"role":"symbol","title":"negativeReplyToDatagram(_:err:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"negativeReplyToDatagram"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"DatagramService","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"DatagramReadMemo","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC0C8ReadMemoV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"err"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UInt16","preciseIdentifier":"s:s6UInt16V"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Send a negative reply to a received datagram"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/negativeReplyToDatagram(_:err:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/negativereplytodatagram(_:err:)"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/init(_:)":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"LinkLayer","preciseIdentifier":"s:14OpenlcbLibrary9LinkLayerC"},{"kind":"text","text":")"}],"abstract":[],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/init(_:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/init(_:)"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/Processor":{"role":"symbol","title":"Processor","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Processor"}],"abstract":[{"type":"text","text":"Process an incoming message, adjusting state and replying as needed."}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/Processor","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Processor"}],"url":"\/documentation\/openlcblibrary\/processor"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/process(_:_:)":{"role":"symbol","title":"process(_:_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"process"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Message","preciseIdentifier":"s:14OpenlcbLibrary7MessageV"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Node","preciseIdentifier":"s:14OpenlcbLibrary4NodeC"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"text","text":"Processor entry point."}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/process(_:_:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/process(_:_:)"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/positiveReplyToDatagram(_:flags:)":{"role":"symbol","title":"positiveReplyToDatagram(_:flags:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"positiveReplyToDatagram"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"DatagramService","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"DatagramReadMemo","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC0C8ReadMemoV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"flags"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UInt8","preciseIdentifier":"s:s5UInt8V"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Send a positive reply to a received datagram"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/positiveReplyToDatagram(_:flags:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/positivereplytodatagram(_:flags:)"},"doc://OpenlcbLibrary/documentation/OpenlcbLibrary/DatagramService/datagramType(data:)":{"role":"symbol","title":"datagramType(data:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"datagramType"},{"kind":"text","text":"("},{"kind":"externalParam","text":"data"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"UInt8","preciseIdentifier":"s:s5UInt8V"},{"kind":"text","text":"]) -> "},{"kind":"typeIdentifier","text":"ProtocolID","preciseIdentifier":"s:14OpenlcbLibrary15DatagramServiceC10ProtocolIDO"}],"abstract":[{"type":"text","text":"Determine the protocol type of the content of the dataagram."},{"type":"text","text":" "},{"type":"text","text":"Returns Unrecognized if there is no type specified, i.e. the datagram is empty"}],"identifier":"doc:\/\/OpenlcbLibrary\/documentation\/OpenlcbLibrary\/DatagramService\/datagramType(data:)","kind":"symbol","type":"topic","url":"\/documentation\/openlcblibrary\/datagramservice\/datagramtype(data:)"}}}